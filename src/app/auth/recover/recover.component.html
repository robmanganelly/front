<form [formGroup]="passRecoverForm" (ngSubmit)="onSubmit()">
  <mat-card class="auth-card">
    <div *ngIf="waitingToSendEmail else onSentEmailRef">
      <mat-card-header>
        <mat-card-title>
          <p > Please insert your registered email </p>
        </mat-card-title>
        <mat-card-subtitle >
          <p > we will send instructions there</p>
        </mat-card-subtitle>
      </mat-card-header>
      <mat-card-content >
        <div class="form-col" >
          <mat-form-field class="full-width" appearance="outline" >
            <mat-label>Email:</mat-label>
            <input matNativeControl required formControlName="email">
            <mat-error>email is not valid, please check it  </mat-error>
          </mat-form-field>
        </div>
      </mat-card-content>
      <mat-card-actions align="end">
        <button type="submit" [disabled]="!passRecoverForm.valid" mat-raised-button color="primary" >
          Send Email
        </button>
        <button routerLink="/portal" type="button" mat-flat-button>
          <mat-icon>arrow_back_ios</mat-icon>
          Go Back
        </button>
      </mat-card-actions>
    </div>
    <ng-template #onSentEmailRef>
      <mat-card-header>
        <mat-card-title>
          An Email has been sent to your account, please check it.
        </mat-card-title>
        <mat-card-subtitle>
          If there's no such email, check your spam folder
        </mat-card-subtitle>
      </mat-card-header>
        <mat-card-actions align="end">
          <button  type="button" mat-flat-button> Resend Email</button>
        </mat-card-actions>
    </ng-template>
  </mat-card>
</form>
